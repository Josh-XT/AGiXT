{
    "swagger": "2.0",
    "info": {
        "version": "1.0",
        "title": "Agent-LLM Flask API",
        "description": "A Flask API for interacting with the Agent-LLM language model."
    },
    "host": "localhost:5000",
    "basePath": "/",
    "schemes": [
        "http"
    ],
    "consumes": [
        "application/json"
    ],
    "produces": [
        "application/json"
    ],
    "paths": {
        "/api/agent": {
            "get": {
                "summary": "Get all agents.",
                "description": "Retrieve a list of all available agents.",
                "responses": {
                    "200": {
                        "description": "List of agents retrieved successfully.",
                        "schema": {
                            "$ref": "#/definitions/AgentsListResponse"
                        }
                    }
                }
            },
            "post": {
                "summary": "Add a new agent",
                "description": "Add a new agent with the specified agent_name.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "agent_name",
                        "type": "string",
                        "required": true,
                        "description": "The name of the agent to be added."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Agent added successfully.",
                        "schema": {
                            "$ref": "#/definitions/AgentAddedResponse"
                        }
                    }
                }
            }
        },
        "/api/agent/{agent_name}": {
            "get": {
                "summary": "Get an agent.",
                "description": "Retrieve a specific agent.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "agent_name",
                        "type": "string",
                        "required": true,
                        "description": "The name of agent."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Agent retrieved successfully.",
                        "schema": {
                            "$ref": "#/definitions/AgentsListResponse"
                        }
                    }
                }
            },
            "put": {
                "summary": "Rename an agent",
                "description": "Rename an agent from agent_name to new_name.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "agent_name",
                        "type": "string",
                        "required": true,
                        "description": "The name of agent."
                    },
                    {
                        "in": "path",
                        "name": "new_name",
                        "type": "string",
                        "required": true,
                        "description": "The new name of the agent."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Agent response received successfully.",
                        "schema": {
                            "$ref": "#/definitions/AgentResponse"
                        }
                    }
                }
            },
            "delete": {
                "summary": "Delete an agent",
                "description": "Delete an agent with the specified agent_name.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "agent_name",
                        "type": "string",
                        "required": true,
                        "description": "The name of the agent to be deleted."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Agent deleted successfully.",
                        "schema": {
                            "$ref": "#/definitions/AgentDeletedResponse"
                        }
                    },
                    "404": {
                        "description": "Agent file not found."
                    }
                }
            }
        },
        "/api/agent/{agent_name}/chat": {
            "get": {
                "summary": "Get chat history",
                "description": "Retrieve the chat history for the specified agent.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "agent_name",
                        "type": "string",
                        "required": true,
                        "description": "The name of the agent whose chat history to retrieve."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Chat history retrieved successfully.",
                        "schema": {
                            "$ref": "#/definitions/ChatHistoryResponse"
                        }
                    }
                }
            },
            "post": {
                "summary": "Chat with the agent.",
                "description": "Send an instruction to the agent and receive a response.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "agent_name",
                        "type": "string",
                        "required": true,
                        "description": "The name of the agent to send instructions to."
                    },
                    {
                        "in": "body",
                        "name": "instruction",
                        "description": "The instruction to send to the agent.",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/InstructionBody"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Agent response received successfully.",
                        "schema": {
                            "$ref": "#/definitions/AgentResponse"
                        }
                    }
                }
            }
        },
        "/api/agent/{agent_name}/command": {
            "get": {
                "summary": "Get all commands.",
                "description": "Retrieve a list of all available commands.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "agent_name",
                        "type": "string",
                        "required": true,
                        "description": "The name of the agent to get commands for."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of commands retrieved successfully.",
                        "schema": {
                            "$ref": "#/definitions/CommandsListResponse"
                        }
                    }
                }
            },
            "patch": {
                "summary": "Enable or disable a command.",
                "description": "Enable a command for the specified agent.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "agent_name",
                        "type": "string",
                        "required": true,
                        "description": "The name of the agent for which to disable the command."
                    },
                    {
                        "in": "body",
                        "name": "command_name",
                        "description": "The name of the command to disable. \"*\" enables/disables all commands.",
                        "required": true
                    },
                    {
                        "in": "body",
                        "name": "enable",
                        "description": "Whether to enable (true) or disable (false) the command.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Command{s} {enabled/disabled} successfully.",
                        "schema": {
                            "$ref": "#/definitions/CommandEnabledResponse"
                        }
                    }
                }
            }
        },
        "/api/agent/{agent_name}/memory": {
            "delete": {
                "summary": "Wipe an agents memories, this is useful when context becomes too large. This does not get rid of the chat history.",
                "parameters": [
                    {
                        "in": "body",
                        "name": "chain_name",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Message indicating the agents memories were wiped."
                    }
                }
            }
        },
        "/api/agent/{agent_name}/task": {
            "get": {
                "summary": "Get task output",
                "description": "Retrieve the output of the task agent for the specified agent.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "agent_name",
                        "type": "string",
                        "required": true,
                        "description": "The name of the agent to retrieve the task agent output for."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Task agent output retrieved successfully.",
                        "schema": {
                            "$ref": "#/definitions/TaskAgentOutputResponse"
                        }
                    }
                }
            },
            "post": {
                "summary": "Start task agent",
                "description": "Start the task agent for the specified agent.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "agent_name",
                        "type": "string",
                        "required": true,
                        "description": "The name of the agent to start the task agent for."
                    },
                    {
                        "in": "body",
                        "name": "task_agent",
                        "description": "The objective for the task agent.",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/TaskAgentBody"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Task agent started successfully.",
                        "schema": {
                            "$ref": "#/definitions/TaskAgentStartedResponse"
                        }
                    },
                    "500": {
                        "description": "Error starting task agent."
                    }
                }
            },
            "delete": {
                "summary": "Stop task agent",
                "description": "Stop the task agent for the specified agent.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "agent_name",
                        "type": "string",
                        "required": true,
                        "description": "The name of the agent to stop the task agent for."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Task agent stopped successfully.",
                        "schema": {
                            "$ref": "#/definitions/TaskAgentStoppedResponse"
                        }
                    },
                    "500": {
                        "description": "Error stopping task agent."
                    }
                }
            }
        },

        "/api/agent/{agent_name}/task/status": {
            "get": {
                "summary": "Get task status",
                "description": "Retrieve the status of the task agent for the specified agent.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "agent_name",
                        "type": "string",
                        "required": true,
                        "description": "The name of the agent to retrieve the task agent status for."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Task agent status retrieved successfully.",
                        "schema": {
                            "$ref": "#/definitions/TaskAgentStatusResponse"
                        }
                    }
                }
            }
        },
        "/api/chain": {
            "get": {
                "summary": "Get all chains",
                "responses": {
                    "200": {
                        "description": "List of chains with their steps and prompts"
                    }
                }
            },
            "post": {
                "summary": "Add a new chain",
                "parameters": [
                    {
                        "in": "body",
                        "name": "chain_name",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Message indicating the chain was successfully created"
                    }
                }
            }
        },
        "/api/chain/{chain_name}": {
            "get": {
                "summary": "Get a single chain",
                "parameters": [
                    {
                        "in": "path",
                        "name": "chain_name",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The requested chain with its steps and prompts"
                    }
                }
            },
            "delete": {
                "summary": "Delete a chain",
                "parameters": [
                    {
                        "in": "path",
                        "name": "chain_name",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Message indicating the chain was successfully deleted"
                    }
                }
             }
        },
        "/api/chain/{chain_name}/run": {
            "post": {
                "summary": "Run a chain",
                "parameters": [
                    {
                        "in": "body",
                        "name": "chain_name",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "path",
                        "name": "agent_name",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Message indicating the prompt chain has started"
                    }
                }
            }
        },
        "/api/chain/{chain_name}/step": {
            "post": {
                "summary": "Add a step to a chain",
                "parameters": [
                    {
                        "in": "path",
                        "name": "chain_name",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "body",
                        "name": "step_number",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "in": "body",
                        "name": "prompt_type",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "body",
                        "name": "prompt",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Message indicating the step was successfully added to the chain"
                    }
                }
            }
        },
        "/api/chain/{chain_name}/step/{step_number}": {
            "put": {
                "summary": "Update a step in a chain",
                "parameters": [
                    {
                        "in": "path",
                        "name": "chain_name",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "path",
                        "name": "step_number",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "in": "body",
                        "name": "new_step_number",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "in": "body",
                        "name": "prompt_type",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Message indicating the step was successfully updated in the chain"
                    }
                }
            },
            "delete": {
                "summary": "Delete a step from a chain",
                "parameters": [
                    {
                        "in": "path",
                        "name": "chain_name",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "path",
                        "name": "step_number",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Message indicating the step was successfully deleted from the chain"
                    }
                }
            }
        }
    },
    "definitions": {
        "AgentAddedResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "description": "A message indicating the agent was added."
                }
            }
        },
        "AgentDeletedResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "description": "A message indicating the agent was deleted."
                }
            }
        },
        "AgentsListResponse": {
            "type": "object",
            "properties": {
                "agents": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "agent_name": {
                                "type": "string",
                                "description": "The name of the agent."
                            },
                            "status": {
                                "type": "boolean",
                                "description": "The status of the agent."
                            }
                        }
                    },
                    "description": "A list of agent names."
                }
            }
        },
        "ChatHistoryResponse": {
            "type": "object",
            "properties": {
                "chat_history": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "A list of chat history messages."
                }
            }
        },
        "InstructionBody": {
            "type": "object",
            "properties": {
                "instruction": {
                    "type": "string",
                    "description": "The instruction to send to the agent."
                }
            }
        },
        "AgentResponse": {
            "type": "object",
            "properties": {
                "response": {
                    "type": "string",
                    "description": "The agent's response to the instruction."
                }
            }
        },
        "CommandsListResponse": {
            "type": "object",
            "properties": {
                "commands": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "command": {
                                "type": "string",
                                "description": "The name of the command."
                            },
                            "enabled": {
                                "type": "boolean",
                                "description": "Whether the command is enabled or not."
                            }
                        }
                    },
                    "description": "A list of command names and their enabled status."
                }
            }
        },
        "AvailableCommandsResponse": {
            "type": "object",
            "properties": {
                "available_commands": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "A list of available command names."
                }
            }
        },
        "CommandEnabledResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "description": "A message indicating the command was enabled."
                }
            }
        },
        "CommandDisabledResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "description": "A message indicating the command was disabled."
                }
            }
        },
        "AllCommandsDisabledResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "description": "A message indicating all commands were disabled."
                }
            }
        },
        "AllCommandsEnabledResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "description": "A message indicating all commands were enabled."
                }
            }
        },
        "TaskAgentBody": {
            "type": "object",
            "properties": {
                "objective": {
                    "type": "string",
                    "description": "The objective for the task agent."
                }
            }
        },
        "TaskAgentStartedResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "description": "A message indicating the task agent was started."
                }
            }
        },
        "TaskAgentStoppedResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "description": "A message indicating the task agent was stopped."
                }
            }
        },
        "TaskAgentOutputResponse": {
            "type": "object",
            "properties": {
                "output": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "A list of task agent output messages."
                }
            }
        },
        "TaskAgentStatusResponse": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "boolean",
                    "description": "The status of the task agent (running = true, stopped = false)."
                }
            }
        }
    }
}